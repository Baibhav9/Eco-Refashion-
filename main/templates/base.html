{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Correct usage of meta tags in HTML5 -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}ECO Refashion{% endblock %}</title>
  <link rel="stylesheet" href="{% static 'index.css' %}">
  <link rel="stylesheet" href="{% static 'base.css' %}">
  
  {% block extra_css %}{% endblock %}
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="nav-container">
      <!-- Link to home page -->
      <a href="{% url 'index' %}" class="nav-logo">ECO Refashion</a>
      
      <div class="nav-menu">
        {% if user.is_authenticated %}
            <p>Logged in: True; Role: {{ user.role }}; Username: {{ user.username }}</p>
        {% else %}
            <p>Logged in: False</p>
        {% endif %}
        {% if user.is_authenticated and user.role == 'user' %}
          <a href="{% url 'product' %}">Products</a>
          <a href="{% url 'donate' %}">Donate</a>
          <a href="{% url 'thrift' %}">Thrift</a>
          <a href="{% url 'recycle' %}">Recycle</a>
          <a href="{% url 'renting' %}">Renting</a>
        {% endif %}

        {% if user.is_authenticated and user.role == 'seller' %}
          <div class="nav-seller">
          <a href="{% url 'seller_upload_product' %}">Upload Product</a>
          <a href="{% url 'seller_product_list' %}">My Products</a>
          </div>
        {% endif %}

        {% if user.is_authenticated and user.role == 'admin' %}
        <div class="admin-nav">
          <a href="{% url 'admin_product_approval' %}">Approve Products</a>
          <a href="{% url 'admin_cart_list' %}">Cart Items</a>
          <a href="{% url 'admin_rental_approval' %}">Renting Uploads</a>
        </div>
      {% endif %}

        {% if user.is_authenticated and user.role == 'organization' %}
          <a href="{% url 'organization_dashboard' %}">Org Dashboard</a>
        {% endif %}
      </div>
      
      <div class="nav-icons">
        {% if user.is_authenticated and user.role == 'user' %}
        <a href="{% url 'cart' %}" class="icon-button">ðŸ›’</a>
        {% endif %}
        <a href="{% url 'login' %}" class="icon-button">ðŸ‘¤</a>
        <div class="divider"></div>
        {% if user.is_authenticated and user.role == 'user' %}
        <a href="{% url 'user_dashboard' %}" class="icon-button">=</a>
        {% endif %}
      </div>
    </div>
  </nav>

  <!-- Main content from child templates goes here -->
  {% block content %}{% endblock %}

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-about">
        <h2 class="footer-logo">ECO Refashion</h2>
        <p class="footer-description">We help you find trendy clothes</p>
        <div class="social-icons">
          <a href="#" class="social-icon facebook"></a>
          <a href="#" class="social-icon instagram"></a>
          <a href="#" class="social-icon twitter"></a>
        </div>
      </div>
        
      <div class="footer-column">
        <h3>Company</h3>
        <ul>
          <li><a href="#">About</a></li>
          <li><a href="{% url 'product' %}">Product</a></li>
          <li><a href="#">Blog</a></li>
        </ul>
      </div>
      
      <div class="footer-column">
        <h3>Contact</h3>
        <p>(+977) 9800000000 </p>
        <p>Baneshwor, Kathmandu</p>
        <p>info.ecorefashion@gmail.com</p>
      </div>
    </div>
    
    <div class="copyright">
      <p>2025 All Right Reserved Term of use ECO Refashion</p>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="{% static 'script.js' %}"></script>
</body>
</html>
